{% extends "user/base.html" %}
{% load i18n static %}
{% block head_extra %}
    <script defer src="{% static 'js/sortable.min.js' %}"></script>
    <script defer src="{% static 'js/sortable-lists.js' %}"></script>
{% endblock head_extra %}
{% block inner %}
    <section id="admin-page-content">
        <h2>
            {% trans "bm.manage.category.section.title" %}
            <a class="main-action" href="{% url "bookmarks:category_create" %}">{% trans "bm.manage.category.button.new" %}</a>
        </h2>
        <div class="admin-block">
            <form hx-post="{% url "bookmarks:category_reorder" %}" hx-trigger="end" hx-target="#categories">
                {% csrf_token %}
                <table class="listing">
                    <thead>
                        <tr>
                            <th scope="col"><span class="sr-only">{% trans "bm.manage.table.header.sort_handle" %}</span></th>
                            <th scope="col">{% trans "bm.manage.category.table.header.name" %}</th>
                            <th scope="col">{% trans "bm.manage.category.table.header.visibility" %}</th>
                            <th scope="col"><span class="sr-only">{% trans "bm.manage.category.table.header.actions" %}</span></th>
                        </tr>
                    </thead>
                    <tbody class="sortable" id="categories">
                        {% include "bookmarks/category/_list.html" %}
                    </tbody>
                </table>
            </form>
        </div>
        <h2 class="mt-6">
            {% trans "bm.manage.bookmarks.section.title" %}
            <a class="main-action" href="{% url "bookmarks:bookmark_create" %}">{% trans "bm.manage.bookmark.button.new" %}</a>
        </h2>
        <div class="admin-block">
            <form hx-post="{% url "bookmarks:bookmark_reorder" %}" hx-trigger="end" hx-target="#bookmarks">
                {% csrf_token %}
                <table class="listing">
                    <thead>
                        <tr>
                            <th scope="col"><span class="sr-only">{% trans "bm.manage.table.header.sort_handle" %}</span></th>
                            <th scope="col">{% trans "bm.manage.bookmark.table.header.name" %}</th>
                            <th scope="col">{% trans "bm.manage.bookmark.table.header.url" %}</th>
                            <th scope="col">{% trans "bm.manage.bookmark.table.header.category" %}</th>
                            <th scope="col">{% trans "bm.manage.bookmark.table.header.visibility" %}</th>
                            <th scope="col"><span class="sr-only">{% trans "bm.manage.bookmark.table.header.actions" %}</span></th>
                        </tr>
                    </thead>
                    <tbody class="sortable" id="bookmarks">
                        {% include "bookmarks/bookmark/_list.html" %}
                    </tbody>
                </table>
            </form>
        </div>
    </section>
{% endblock inner %}
